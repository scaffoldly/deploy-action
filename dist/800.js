"use strict";exports.id=800,exports.ids=[800],exports.modules={6800:(e,t,n)=>{n.d(t,{cz:()=>cn,I$:()=>ln});var s=n(9389),o=n(1208),r=n(4183);const i={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class a extends r.TJ{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype)}}class c extends a{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,c.prototype)}}class l extends a{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,l.prototype)}}class d extends a{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,d.prototype)}}class u extends a{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,u.prototype)}}class p extends a{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,p.prototype)}}class h extends a{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,h.prototype)}}class m extends a{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,m.prototype)}}class g extends a{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,g.prototype)}}const y=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:r.$H}}),f=e=>({...e,...e.Credentials&&{Credentials:y(e.Credentials)}}),P=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:r.$H}}),w=e=>({...e,...e.Credentials&&{Credentials:y(e.Credentials)}});var v=n(2789),S=n(5479);const E=async(e,t)=>{const n=re;let s;return s=Le({...j(e,t),[ae]:le,[We]:ie}),oe(t,n,"/",void 0,s)},b=async(e,t)=>{const n=re;let s;return s=Le({...z(e,t),[ae]:pe,[We]:ie}),oe(t,n,"/",void 0,s)},I=async(e,t)=>{if(e.statusCode>=300)return A(e,t);const n=await(0,v.t_)(e.body,t);let s={};return s=N(n.AssumeRoleResult,t),{$metadata:ne(e),...s}},x=async(e,t)=>{if(e.statusCode>=300)return A(e,t);const n=await(0,v.t_)(e.body,t);let s={};return s=V(n.AssumeRoleWithWebIdentityResult,t),{$metadata:ne(e),...s}},A=async(e,t)=>{const n={...e,body:await(0,v.FI)(e.body,t)},s=Ge(e,n.body);switch(s){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await C(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await T(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await K(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await O(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await R(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await D(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await k(n,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await $(n,t);default:const o=n.body;return se({output:e,parsedBody:o.Error,errorCode:s})}},C=async(e,t)=>{const n=e.body,s=Z(n.Error,t),o=new c({$metadata:ne(e),...s});return(0,r.Mw)(o,n)},k=async(e,t)=>{const n=e.body,s=_(n.Error,t),o=new m({$metadata:ne(e),...s});return(0,r.Mw)(o,n)},R=async(e,t)=>{const n=e.body,s=J(n.Error,t),o=new p({$metadata:ne(e),...s});return(0,r.Mw)(o,n)},$=async(e,t)=>{const n=e.body,s=Y(n.Error,t),o=new g({$metadata:ne(e),...s});return(0,r.Mw)(o,n)},D=async(e,t)=>{const n=e.body,s=Q(n.Error,t),o=new h({$metadata:ne(e),...s});return(0,r.Mw)(o,n)},T=async(e,t)=>{const n=e.body,s=X(n.Error,t),o=new l({$metadata:ne(e),...s});return(0,r.Mw)(o,n)},K=async(e,t)=>{const n=e.body,s=ee(n.Error,t),o=new d({$metadata:ne(e),...s});return(0,r.Mw)(o,n)},O=async(e,t)=>{const n=e.body,s=te(n.Error,t),o=new u({$metadata:ne(e),...s});return(0,r.Mw)(o,n)},j=(e,t)=>{const n={};if(null!=e[ke]&&(n[ke]=e[ke]),null!=e[Re]&&(n[Re]=e[Re]),null!=e[Ee]){const s=M(e[Ee],t);0===e[Ee]?.length&&(n.PolicyArns=[]),Object.entries(s).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}if(null!=e[Se]&&(n[Se]=e[Se]),null!=e[fe]&&(n[fe]=e[fe]),null!=e[je]){const s=L(e[je],t);0===e[je]?.length&&(n.Tags=[]),Object.entries(s).forEach((([e,t])=>{n[`Tags.${e}`]=t}))}if(null!=e[Me]){const s=U(e[Me],t);0===e[Me]?.length&&(n.TransitiveTagKeys=[]),Object.entries(s).forEach((([e,t])=>{n[`TransitiveTagKeys.${e}`]=t}))}if(null!=e[we]&&(n[we]=e[we]),null!=e[Ke]&&(n[Ke]=e[Ke]),null!=e[ze]&&(n[ze]=e[ze]),null!=e[Te]&&(n[Te]=e[Te]),null!=e[Ie]){const s=H(e[Ie],t);0===e[Ie]?.length&&(n.ProvidedContexts=[]),Object.entries(s).forEach((([e,t])=>{n[`ProvidedContexts.${e}`]=t}))}return n},z=(e,t)=>{const n={};if(null!=e[ke]&&(n[ke]=e[ke]),null!=e[Re]&&(n[Re]=e[Re]),null!=e[He]&&(n[He]=e[He]),null!=e[xe]&&(n[xe]=e[xe]),null!=e[Ee]){const s=M(e[Ee],t);0===e[Ee]?.length&&(n.PolicyArns=[]),Object.entries(s).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}return null!=e[Se]&&(n[Se]=e[Se]),null!=e[fe]&&(n[fe]=e[fe]),n},M=(e,t)=>{const n={};let s=1;for(const o of e){if(null===o)continue;const e=W(o,t);Object.entries(e).forEach((([e,t])=>{n[`member.${s}.${e}`]=t})),s++}return n},W=(e,t)=>{const n={};return null!=e[Fe]&&(n[Fe]=e[Fe]),n},q=(e,t)=>{const n={};return null!=e[be]&&(n[be]=e[be]),null!=e[ye]&&(n[ye]=e[ye]),n},H=(e,t)=>{const n={};let s=1;for(const t of e){if(null===t)continue;const e=q(t);Object.entries(e).forEach((([e,t])=>{n[`member.${s}.${e}`]=t})),s++}return n},F=(e,t)=>{const n={};return null!=e[ve]&&(n[ve]=e[ve]),null!=e[qe]&&(n[qe]=e[qe]),n},U=(e,t)=>{const n={};let s=1;for(const t of e)null!==t&&(n[`member.${s}`]=t,s++);return n},L=(e,t)=>{const n={};let s=1;for(const t of e){if(null===t)continue;const e=F(t);Object.entries(e).forEach((([e,t])=>{n[`member.${s}.${e}`]=t})),s++}return n},G=(e,t)=>{const n={};return null!=e[de]&&(n[de]=(0,r.lK)(e[de])),null!=e[he]&&(n[he]=(0,r.lK)(e[he])),n},N=(e,t)=>{const n={};return null!=e[ge]&&(n[ge]=B(e[ge],t)),null!=e[ue]&&(n[ue]=G(e[ue])),null!=e[Ae]&&(n[Ae]=(0,r.xW)(e[Ae])),null!=e[Te]&&(n[Te]=(0,r.lK)(e[Te])),n},V=(e,t)=>{const n={};return null!=e[ge]&&(n[ge]=B(e[ge],t)),null!=e[De]&&(n[De]=(0,r.lK)(e[De])),null!=e[ue]&&(n[ue]=G(e[ue])),null!=e[Ae]&&(n[Ae]=(0,r.xW)(e[Ae])),null!=e[Ce]&&(n[Ce]=(0,r.lK)(e[Ce])),null!=e[me]&&(n[me]=(0,r.lK)(e[me])),null!=e[Te]&&(n[Te]=(0,r.lK)(e[Te])),n},B=(e,t)=>{const n={};return null!=e[ce]&&(n[ce]=(0,r.lK)(e[ce])),null!=e[$e]&&(n[$e]=(0,r.lK)(e[$e])),null!=e[Oe]&&(n[Oe]=(0,r.lK)(e[Oe])),null!=e[Pe]&&(n[Pe]=(0,r.Y0)((0,r.t_)(e[Pe]))),n},Z=(e,t)=>{const n={};return null!=e[Ue]&&(n[Ue]=(0,r.lK)(e[Ue])),n},_=(e,t)=>{const n={};return null!=e[Ue]&&(n[Ue]=(0,r.lK)(e[Ue])),n},J=(e,t)=>{const n={};return null!=e[Ue]&&(n[Ue]=(0,r.lK)(e[Ue])),n},Y=(e,t)=>{const n={};return null!=e[Ue]&&(n[Ue]=(0,r.lK)(e[Ue])),n},Q=(e,t)=>{const n={};return null!=e[Ue]&&(n[Ue]=(0,r.lK)(e[Ue])),n},X=(e,t)=>{const n={};return null!=e[Ue]&&(n[Ue]=(0,r.lK)(e[Ue])),n},ee=(e,t)=>{const n={};return null!=e[Ue]&&(n[Ue]=(0,r.lK)(e[Ue])),n},te=(e,t)=>{const n={};return null!=e[Ue]&&(n[Ue]=(0,r.lK)(e[Ue])),n},ne=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),se=(0,r.jr)(a),oe=async(e,t,n,s,o)=>{const{hostname:r,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:r,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==s&&(l.hostname=s),void 0!==o&&(l.body=o),new S.Kd(l)},re={"content-type":"application/x-www-form-urlencoded"},ie="2011-06-15",ae="Action",ce="AccessKeyId",le="AssumeRole",de="AssumedRoleId",ue="AssumedRoleUser",pe="AssumeRoleWithWebIdentity",he="Arn",me="Audience",ge="Credentials",ye="ContextAssertion",fe="DurationSeconds",Pe="Expiration",we="ExternalId",ve="Key",Se="Policy",Ee="PolicyArns",be="ProviderArn",Ie="ProvidedContexts",xe="ProviderId",Ae="PackedPolicySize",Ce="Provider",ke="RoleArn",Re="RoleSessionName",$e="SecretAccessKey",De="SubjectFromWebIdentityToken",Te="SourceIdentity",Ke="SerialNumber",Oe="SessionToken",je="Tags",ze="TokenCode",Me="TransitiveTagKeys",We="Version",qe="Value",He="WebIdentityToken",Fe="arn",Ue="message",Le=e=>Object.entries(e).map((([e,t])=>(0,r.$6)(e)+"="+(0,r.$6)(t))).join("&"),Ge=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class Ne extends(r.uB.classBuilder().ep({...i}).m((function(e,t,n,r){return[(0,o.TM)(n,this.serialize,this.deserialize),(0,s.rD)(n,e.getEndpointParameterInstructions())]})).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,f).ser(E).de(I).build()){}class Ve extends(r.uB.classBuilder().ep({...i}).m((function(e,t,n,r){return[(0,o.TM)(n,this.serialize,this.deserialize),(0,s.rD)(n,e.getEndpointParameterInstructions())]})).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(P,w).ser(b).de(x).build()){}const Be="us-east-1",Ze=async(e,t,n)=>{const s="function"==typeof e?await e():e,o="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (provider)`,`${o} (parent client)`,`${Be} (STS default)`),s??o??Be};var _e=n(1095),Je=n(9359),Ye=n(8377),Qe=n(499),Xe=n(1487),et=n(2972),tt=n(649),nt=n(3594),st=n(2211),ot=n(7135);const rt=async(e,t,n)=>({operation:(0,ot.u)(t).operation,region:await(0,ot.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),it=e=>{const t=[];switch(e.operation){case"AssumeRoleWithSAML":case"AssumeRoleWithWebIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t},at=e=>()=>Promise.resolve().then(n.bind(n,8257)).then((({defaultProvider:t})=>t(e)()));var ct=n(2458),lt=n(1228),dt=n(3058),ut=n(1701),pt=n(1881),ht=n(3928),mt=n(7809),gt=n(3323),yt=n(2641),ft=n(4572),Pt=n(3197),wt=n(3875);const vt="required",St="type",Et="fn",bt="argv",It="ref",xt=!0,At="booleanEquals",Ct="stringEquals",kt="sigv4",Rt="us-east-1",$t="endpoint",Dt="https://sts.{Region}.{PartitionResult#dnsSuffix}",Tt="tree",Kt="error",Ot="getAttr",jt={[vt]:!1,[St]:"String"},zt={[vt]:!0,default:!1,[St]:"Boolean"},Mt={[It]:"Endpoint"},Wt={[Et]:"isSet",[bt]:[{[It]:"Region"}]},qt={[It]:"Region"},Ht={[Et]:"aws.partition",[bt]:[qt],assign:"PartitionResult"},Ft={[It]:"UseFIPS"},Ut={[It]:"UseDualStack"},Lt={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:kt,signingName:"sts",signingRegion:Rt}]},headers:{}},Gt={},Nt={conditions:[{[Et]:Ct,[bt]:[qt,"aws-global"]}],[$t]:Lt,[St]:$t},Vt={[Et]:At,[bt]:[Ft,!0]},Bt={[Et]:At,[bt]:[Ut,!0]},Zt={[Et]:Ot,[bt]:[{[It]:"PartitionResult"},"supportsFIPS"]},_t={[It]:"PartitionResult"},Jt={[Et]:At,[bt]:[!0,{[Et]:Ot,[bt]:[_t,"supportsDualStack"]}]},Yt=[{[Et]:"isSet",[bt]:[Mt]}],Qt=[Vt],Xt=[Bt],en={version:"1.0",parameters:{Region:jt,UseDualStack:zt,UseFIPS:zt,Endpoint:jt,UseGlobalEndpoint:zt},rules:[{conditions:[{[Et]:At,[bt]:[{[It]:"UseGlobalEndpoint"},xt]},{[Et]:"not",[bt]:Yt},Wt,Ht,{[Et]:At,[bt]:[Ft,!1]},{[Et]:At,[bt]:[Ut,!1]}],rules:[{conditions:[{[Et]:Ct,[bt]:[qt,"ap-northeast-1"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"ap-south-1"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"ap-southeast-1"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"ap-southeast-2"]}],endpoint:Lt,[St]:$t},Nt,{conditions:[{[Et]:Ct,[bt]:[qt,"ca-central-1"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"eu-central-1"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"eu-north-1"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"eu-west-1"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"eu-west-2"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"eu-west-3"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"sa-east-1"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,Rt]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"us-east-2"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"us-west-1"]}],endpoint:Lt,[St]:$t},{conditions:[{[Et]:Ct,[bt]:[qt,"us-west-2"]}],endpoint:Lt,[St]:$t},{endpoint:{url:Dt,properties:{authSchemes:[{name:kt,signingName:"sts",signingRegion:"{Region}"}]},headers:Gt},[St]:$t}],[St]:Tt},{conditions:Yt,rules:[{conditions:Qt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[St]:Kt},{conditions:Xt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[St]:Kt},{endpoint:{url:Mt,properties:Gt,headers:Gt},[St]:$t}],[St]:Tt},{conditions:[Wt],rules:[{conditions:[Ht],rules:[{conditions:[Vt,Bt],rules:[{conditions:[{[Et]:At,[bt]:[xt,Zt]},Jt],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gt,headers:Gt},[St]:$t}],[St]:Tt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[St]:Kt}],[St]:Tt},{conditions:Qt,rules:[{conditions:[{[Et]:At,[bt]:[Zt,xt]}],rules:[{conditions:[{[Et]:Ct,[bt]:[{[Et]:Ot,[bt]:[_t,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Gt,headers:Gt},[St]:$t},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Gt,headers:Gt},[St]:$t}],[St]:Tt},{error:"FIPS is enabled but this partition does not support FIPS",[St]:Kt}],[St]:Tt},{conditions:Xt,rules:[{conditions:[Jt],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gt,headers:Gt},[St]:$t}],[St]:Tt},{error:"DualStack is enabled but this partition does not support DualStack",[St]:Kt}],[St]:Tt},Nt,{endpoint:{url:Dt,properties:Gt,headers:Gt},[St]:$t}],[St]:Tt}],[St]:Tt},{error:"Invalid Configuration: Missing Region",[St]:Kt}]},tn=(e,t={})=>(0,wt.sO)(en,{endpointParams:e,logger:t.logger});var nn=n(4321);var sn=n(4547);const on=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex((t=>t.schemeId===e.schemeId));-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){s=e},credentials:()=>s}};class rn extends r.Kj{constructor(...[e]){const t=(n=(e=>{(0,r.I9)(process.version);const t=(0,nn.I)(e),n=()=>t().then(r.lT),s=(e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??ft.E,base64Encoder:e?.base64Encoder??ft.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tn,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??it,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new lt.f},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new et.mR}],logger:e?.logger??new r.N4,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??yt.D,utf8Decoder:e?.utf8Decoder??Pt.ar,utf8Encoder:e?.utf8Encoder??Pt.Pq}))(e);return(0,ct.I)(process.version),{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??mt.n,credentialDefaultProvider:e?.credentialDefaultProvider??at,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,dt.mJ)({serviceId:s.serviceId,clientVersion:"3.533.0"}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4")||(async e=>await at(e?.__config||{})()),signer:new lt.f},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new et.mR}],maxAttempts:e?.maxAttempts??(0,pt.Z)(nt.qs),region:e?.region??(0,pt.Z)(Xe.GG,Xe.zH),requestHandler:ht.$c.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,pt.Z)({...nt.kN,default:async()=>(await n()).retryMode||gt.L0}),sha256:e?.sha256??ut.V.bind(null,"sha256"),streamCollector:e?.streamCollector??ht.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,pt.Z)(Xe.e$),useFipsEndpoint:e?.useFipsEndpoint??(0,pt.Z)(Xe.Ko)}})(e||{}),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,useGlobalEndpoint:n.useGlobalEndpoint??!1,defaultSigningName:"sts"});var n;const o=(0,Xe.TD)(t),i=(0,s.Co)(o),a=(0,nt.$z)(i),c=(0,_e.OV)(a),l=((e,t)=>{const n={...(0,sn.Rq)(e),...(0,r.xA)(e),...(0,S.eS)(e),...on(e)};return t.forEach((e=>e.configure(n))),{...e,...(0,sn.$3)(n),...(0,r.uv)(n),...(0,S.jt)(n),...(s=n,{httpAuthSchemes:s.httpAuthSchemes(),httpAuthSchemeProvider:s.httpAuthSchemeProvider(),credentials:s.credentials()})};var s})((e=>{const t=(n=e,{...n,stsClientCtor:rn});var n;return{...(0,st.h)(t)}})((0,Qe.Dc)(c)),e?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,nt.ey)(this.config)),this.middlewareStack.use((0,tt.vK)(this.config)),this.middlewareStack.use((0,_e.TC)(this.config)),this.middlewareStack.use((0,Je.Y7)(this.config)),this.middlewareStack.use((0,Ye.n4)(this.config)),this.middlewareStack.use((0,Qe.sM)(this.config)),this.middlewareStack.use((0,et.wB)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,et.lW)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return rt}getIdentityProviderConfigProvider(){return async e=>new et.h$({"aws.auth#sigv4":e.credentials})}}const an=(e,t)=>t?class extends e{constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,cn=(e={},t)=>((e,t)=>{let n,s;return async(o,r)=>{if(s=o,!n){const{logger:o=e?.parentClientConfig?.logger,region:r,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,c=await Ze(r,e?.parentClientConfig?.region,a);n=new t({credentialDefaultProvider:()=>async()=>s,region:c,requestHandler:i,logger:o})}const{Credentials:i}=await n.send(new Ne(r));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${r.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,credentialScope:i.CredentialScope}}})(e,an(rn,t)),ln=(e={},t)=>((e,t)=>{let n;return async s=>{if(!n){const{logger:s=e?.parentClientConfig?.logger,region:o,requestHandler:r=e?.parentClientConfig?.requestHandler,credentialProviderLogger:i}=e,a=await Ze(o,e?.parentClientConfig?.region,i);n=new t({region:a,requestHandler:r,logger:s})}const{Credentials:o}=await n.send(new Ve(s));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${s.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,credentialScope:o.CredentialScope}}})(e,an(rn,t))}};
//# sourceMappingURL=800.js.map